<!doctype html>
<html lang=en data-theme=dark>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Green Screen Vault - Free Overlays, Memes & Clips</title>
<meta name=description content="Discover thousands of free green screen overlays, effects, transitions, meme templates, and video clips. Perfect for YouTube, streaming (OBS), social media (TikTok/Reels), and film projects. Download CC0 chroma key footage instantly. Upload your own!">
<meta name=keywords content="green screen, chroma key, video overlay, free download, video effects, transitions, stock footage, video clips, meme template, green screen download, video editing assets, content creator resources, premiere pro, after effects, final cut pro, davinci resolve, obs studio, streamlabs, tiktok, reels, youtube shorts, cc0 license, public domain video, free green screen memes, chroma key memes, green screen effects download, free video assets, motion graphics elements">
<meta name=robots content="index, follow">
<meta name=google-site-verification content=KW9LITbigX2kYkD1Pt-ShwyWVkKL24BSvGMcRAR33L4>
<script src=https://upload-widget.cloudinary.com/global/all.js></script>
<link href=https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css rel=stylesheet>
<link rel=preconnect href=https://fonts.googleapis.com>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@400;700&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin=anonymous referrerpolicy=no-referrer>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5641687897051414" crossorigin=anonymous></script>
<style>body{font-family:Roboto,sans-serif;transition:background .5s ease,color .5s ease;line-height:1.6;overflow-x:hidden}html[data-theme=dark] body{background:#0a0a0a;color:#e5e7eb}html[data-theme=light] body{background:#f8f9fa;color:#212529}.header{background:linear-gradient(90deg,#0f8,#0cf);color:#000;padding:1rem 1rem;text-align:center;font-size:1.8rem;font-weight:700;position:relative;box-shadow:0 4px 10px rgba(0,255,136,.3);z-index:40;display:flex;align-items:center;justify-content:center}.header h1{animation:fadeInDown 1s ease-in-out;font-family:Orbitron,sans-serif;letter-spacing:1px;margin:0;flex-grow:1;text-align:center}.header-buttons-container{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;justify-content:space-between;align-items:center;padding:0 1rem;pointer-events:none}.header-buttons{display:flex;gap:.5rem;pointer-events:auto}.header-btn{background:rgba(0,0,0,.5);color:#fff;border:1px solid rgba(255,255,255,.5);padding:.4rem .8rem;border-radius:.5rem;font-size:.9rem;cursor:pointer;transition:background-color .2s,transform .2s;display:flex;align-items:center;gap:.3rem;position:relative;z-index:41;overflow:hidden}.header-btn:hover{background:rgba(0,0,0,.7);transform:scale(1.05)}html[data-theme=light] .header-btn{background:rgba(255,255,255,.7);color:#000;border-color:rgba(0,0,0,.2)}html[data-theme=light] .header-btn:hover{background:rgba(255,255,255,.9)}.header-btn i{transition:transform .2s ease-in-out;display:inline-block}.header-btn:hover i{transform:scale(1.15) rotate(-5deg)}@media (min-width:640px){.header{font-size:2.5rem;padding:1.5rem 1rem}.header-buttons-container{padding:0 1.5rem}}@media (max-width:639px){.header-btn span.button-text{display:none}.header-btn{padding:.5rem}.header h1{font-size:1.5rem}.header{padding:1rem .5rem}.header-buttons-container{padding:0 .5rem}}.theme-icon{position:absolute;top:-25px;left:50%;transform:translateX(-50%);font-size:1.5rem;transition:transform .6s cubic-bezier(.68, -.55, .27, 1.55),opacity .6s ease;opacity:0;pointer-events:none;z-index:40}#sunIcon{color:#fc0}#moonIcon{color:khaki}html:not([data-theme=light]) #moonIcon{transform:translate(-50%,40px);opacity:1}html:not([data-theme=light]) #sunIcon{transform:translate(-50%,80px);opacity:0}html[data-theme=light] #sunIcon{transform:translate(-50%,40px);opacity:1}html[data-theme=light] #moonIcon{transform:translate(-50%,80px);opacity:0}.gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;padding:1.5rem}.card{background:#1f1f1f;border-radius:1rem;overflow:hidden;border:1px solid #333;box-shadow:0 4px 15px rgba(0,255,136,.1);transition:transform .3s ease,box-shadow .3s ease,border-color .3s ease,opacity .4s ease,height .4s ease,margin .4s ease,padding .4s ease,border-width .4s ease;animation:fadeInUp .5s ease-in-out both;position:relative;display:flex;flex-direction:column}html[data-theme=light] .card{background:#fff;color:#000;border-color:#e2e8f0;box-shadow:0 4px 6px rgba(0,0,0,.05)}.card:hover{transform:translateY(-6px) scale(1.03);box-shadow:0 10px 30px rgba(0,255,136,.28);border-color:#0f8}html[data-theme=light] .card:hover{box-shadow:0 8px 16px rgba(0,0,0,.12);border-color:#10b981}.video-container{cursor:pointer;position:relative;background-color:#050505;overflow:hidden;border-radius:1rem 1rem 0 0}.video-container video{width:100%;height:auto;aspect-ratio:16/9;object-fit:cover;display:block}.video-container::after{content:'\f04b';font-family:'Font Awesome 6 Free';font-weight:900;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3rem;color:rgba(255,255,255,.8);opacity:0;transition:opacity .3s ease,transform .3s ease;pointer-events:none;text-shadow:0 0 10px rgba(0,0,0,.5)}.video-container:hover::after{opacity:1;transform:translate(-50%,-50%) scale(1.1)}.video-container.playing::after{opacity:0!important}.card-content{padding:1rem;flex-grow:1}.card-title{font-weight:700;margin-bottom:.25rem;line-height:1.3;height:2.6em;overflow:hidden;font-size:1rem;word-break:break-all}.meta-info{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.8rem;gap:.5rem}.uploader-name{opacity:.8;color:#bbb;text-align:right}html[data-theme=light] .uploader-name{opacity:.9;color:#555}.download-count{font-size:.75rem;color:#888;display:flex;align-items:center;gap:.2rem;flex-shrink:0}html[data-theme=light] .download-count{color:#666}.download-count i{font-size:.7rem;animation:icon-pulse 2.5s infinite ease-in-out;display:inline-block}.card-footer{padding:0 1rem 1rem;display:flex;justify-content:space-between;align-items:center;gap:.5rem;border-top:1px solid #333;margin-top:auto}html[data-theme=light] .card-footer{border-top-color:#e2e8f0}.download-btn{background:#0f8;color:#000;padding:.5rem 1rem;text-align:center;font-weight:700;display:inline-flex;align-items:center;gap:.4rem;border-radius:.5rem;font-size:.85rem;line-height:1;transition:background-color .2s ease,transform .2s ease}.download-btn:hover{background-color:#00e67a;transform:scale(1.05)}.download-btn i{transition:transform .3s cubic-bezier(.68, -.55, .27, 1.55);display:inline-block}.download-btn:hover i{transform:translateY(-2px) scale(1.1)}html[data-theme=light] .download-btn{background:#10b981;color:#fff}html[data-theme=light] .download-btn:hover{background:#0f9e73}.menu-btn{background:rgba(255,255,255,.1);border:1px solid #555;border-radius:50%;width:32px;height:32px;font-weight:700;cursor:pointer;line-height:1;color:#aaa;display:flex;align-items:center;justify-content:center;transition:background-color .2s,color .2s,border-color .2s,transform .3s ease}html[data-theme=light] .menu-btn{background:rgba(0,0,0,.05);border-color:#ccc;color:#555}.menu-btn i{transition:transform .3s ease;display:inline-block}.menu-btn:hover{background:rgba(0,255,136,.3);color:#fff;border-color:#0f8;transform:scale(1.1)}.menu-btn:hover i{transform:rotate(90deg)}html[data-theme=light] .menu-btn:hover{background:rgba(16,185,129,.2);color:#10b981;border-color:#10b981}.action-popup{display:none;position:absolute;bottom:45px;right:5px;background-color:#2a2a2a;border:1px solid #444;border-radius:8px;padding:.5rem;box-shadow:0 5px 15px rgba(0,0,0,.4);z-index:50;animation:popUpFadeIn .2s ease-out;min-width:130px}html[data-theme=light] .action-popup{background-color:#fff;border-color:#ccc;box-shadow:0 4px 15px rgba(0,0,0,.15)}.action-popup button{display:flex;align-items:center;gap:.5rem;width:100%;background:0 0;border:none;color:#0cf;padding:.6rem .8rem;text-align:left;cursor:pointer;border-radius:4px;font-size:.9rem;transition:background-color .15s,color .15s}.action-popup button i{transition:transform .2s ease-out;display:inline-block;width:1rem;text-align:center}.action-popup button:hover i{transform:scale(1.1) rotate(-3deg)}html[data-theme=light] .action-popup button{color:#0c4a6e}.action-popup button:hover{background-color:#3a3a3a}html[data-theme=light] .action-popup button:hover{background-color:#e5e7eb}.action-popup button.delete-action{color:#f55}html[data-theme=light] .action-popup button.delete-action{color:#dc2626}.action-popup button.delete-action:hover{background-color:rgba(255,85,85,.1)}html[data-theme=light] .action-popup button.delete-action:hover{background-color:#fee2e2}.modal-backdrop{position:fixed;inset:0;background-color:rgba(0,0,0,.75);display:none;align-items:center;justify-content:center;z-index:50;animation:fadeIn .4s ease-out;backdrop-filter:blur(5px)}@keyframes weirdModalPopIn{0%{opacity:0;transform:translateY(50px) scale(.8) skewX(-10deg)}60%{opacity:1;transform:translateY(-10px) scale(1.05) skewX(5deg)}80%{transform:translateY(5px) scale(.98) skewX(-2deg)}100%{opacity:1;transform:translateY(0) scale(1) skewX(0)}}@keyframes fadeOut{from{opacity:1}to{opacity:0}}.modal-backdrop.modal-fade-out{animation:fadeOut .3s ease-out forwards}.modal-backdrop.modal-fade-out .modal-box{animation:fadeOut .3s ease-out forwards}.modal-box{background-color:#1f1f1f;color:#fff;padding:1.5rem;border-radius:1rem;border:1px solid #444;box-shadow:0 10px 30px rgba(0,0,0,.6);width:90%;max-width:500px;animation:weirdModalPopIn .6s cubic-bezier(.34,1.56,.64,1) forwards;position:relative;max-height:85vh;overflow-y:auto}html[data-theme=light] .modal-box{background-color:#fff;color:#000;border-color:#ccc;box-shadow:0 5px 20px rgba(0,0,0,.15)}@media (min-width:640px){.modal-box{padding:2rem}}.modal-box h2{font-size:1.5rem;font-weight:700;margin-bottom:1rem;color:#0f8;text-align:center}.modal-box h2 i{animation:icon-pulse 2s infinite ease-in-out;margin-right:.5rem;display:inline-block}html[data-theme=light] .modal-box h2{color:#10b981}.modal-box label{display:block;margin-bottom:.5rem;font-size:.9rem;font-weight:700;color:#ccc}html[data-theme=light] .modal-box label{color:#555}.modal-box input[type=password],.modal-box input[type=text],.modal-box textarea{width:100%;padding:.8rem;border-radius:.5rem;background-color:#333;border:1px solid #555;color:#fff;margin-bottom:1rem;transition:border-color .2s,box-shadow .2s;font-size:.95rem}.modal-box input:focus,.modal-box textarea:focus{outline:0;border-color:#0f8;box-shadow:0 0 0 3px rgba(0,255,136,.4)}html[data-theme=light] .modal-box input[type=password],html[data-theme=light] .modal-box input[type=text],html[data-theme=light] .modal-box textarea{background-color:#e5e7eb;border-color:#ccc;color:#000}html[data-theme=light] .modal-box input:focus,html[data-theme=light] .modal-box textarea:focus{border-color:#10b981;box-shadow:0 0 0 3px rgba(16,185,129,.3)}.modal-buttons{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:.75rem;margin-top:1.5rem}.modal-buttons button{font-size:.9rem;padding:.7rem 1.2rem;border-radius:.5rem;border:none;cursor:pointer;font-weight:700;transition:background-color .2s,transform .2s,box-shadow .2s;display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.modal-buttons button:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.2)}.modal-buttons button i{transition:transform .2s ease;display:inline-block}.modal-buttons button:hover i{transform:scale(1.1)}.modal-button-confirm{background-color:#0f8;color:#000}.modal-button-confirm:hover{background-color:#0d7}html[data-theme=light] .modal-button-confirm{background-color:#10b981;color:#fff}html[data-theme=light] .modal-button-confirm:hover{background-color:#0f9e73}.modal-button-cancel{background-color:#555;color:#fff}.modal-button-cancel:hover{background-color:#666}html[data-theme=light] .modal-button-cancel{background-color:#a1a1aa;color:#000}html[data-theme=light] .modal-button-cancel:hover{background-color:#71717a}.modal-button-delete{background-color:#f44;color:#fff}.modal-button-delete:hover{background-color:#d22}html[data-theme=light] .modal-button-delete{background-color:#dc2626;color:#fff}html[data-theme=light] .modal-button-delete:hover{background-color:#b91c1c}.modal-error{color:#f55;font-size:.85rem;margin-top:-.5rem;margin-bottom:1rem;min-height:1.2em;text-align:center;display:block}.modal-close-btn{position:absolute;top:12px;right:12px;background:rgba(255,255,255,.1);border:none;font-size:1.5rem;color:#aaa;cursor:pointer;line-height:1;z-index:51;padding:.1rem .5rem;border-radius:50%;transition:background-color .2s,color .2s,transform .2s}html[data-theme=light] .modal-close-btn{background:rgba(0,0,0,.05);color:#777}.modal-close-btn:hover{background:rgba(255,255,255,.2);color:#fff;transform:scale(1.1) rotate(90deg)}html[data-theme=light] .modal-close-btn:hover{background:rgba(0,0,0,.1);color:#000}#termsModal .modal-box{max-width:700px}.terms-content{font-size:.9rem;line-height:1.6;max-height:60vh;overflow-y:auto;border:1px solid #444;padding:1rem 1.5rem;border-radius:.5rem;margin-bottom:1rem;background-color:rgba(0,0,0,.15)}html[data-theme=light] .terms-content{border-color:#ccc;background-color:rgba(0,0,0,.03)}.terms-content h3{font-weight:700;margin-top:1rem;margin-bottom:.5rem;color:#0cf}html[data-theme=light] .terms-content h3{color:#0ea5e9}.terms-accept-label{display:flex;align-items:center;margin-top:1rem;cursor:pointer;font-size:.9rem}html[data-theme=dark] .terms-accept-label{color:#ccc}html[data-theme=light] .terms-accept-label{color:#333}.terms-accept-label input{margin-right:.75rem;width:1rem;height:1rem;accent-color:#00ff88;transform:scale(1.1);cursor:pointer}html[data-theme=light] .terms-accept-label input{accent-color:#10b981}.filter-search-area{padding:1.5rem;background-color:rgba(0,0,0,.15);border-bottom:1px solid #333;position:sticky;top:0;z-index:30;backdrop-filter:blur(3px)}html[data-theme=light] .filter-search-area{background-color:rgba(255,255,255,.7);border-bottom-color:#e2e8f0;backdrop-filter:blur(5px)}.filter-options{display:flex;justify-content:center;gap:.75rem;margin-bottom:1rem;flex-wrap:wrap}.filter-btn{padding:.5rem 1rem;margin:0;text-align:center;font-weight:700;border-radius:.5rem;cursor:pointer;transition:all .2s ease;border:2px solid transparent;font-size:.85rem}.filter-btn:hover:not(.active-filter){transform:translateY(-2px)}.filter-btn.active-filter{transform:translateY(-1px)}.search-container{display:flex;justify-content:center;align-items:center;max-width:400px;margin:0 auto;position:relative}.search-container label{display:none}.search-container input{flex-grow:1;padding:.7rem 1rem .7rem 2.5rem;border-radius:1rem;background-color:#333;border:1px solid #555;color:#fff;transition:border-color .2s,box-shadow .2s}.search-container::before{content:'\f002';font-family:'Font Awesome 6 Free';font-weight:900;position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#888;font-size:.9rem;transition:color .2s,transform .2s;pointer-events:none}html[data-theme=light] .search-container::before{color:#777}.search-container input:focus+label+::before,.search-container:focus-within::before{color:#0cf;transform:translateY(-50%) scale(1.1)}html[data-theme=light] .search-container:focus-within::before{color:#38bdf8}.search-container input:focus{outline:0;border-color:#0cf;box-shadow:0 0 0 3px rgba(0,204,255,.3)}html[data-theme=light] .search-container input:focus{border-color:#38bdf8;box-shadow:0 0 0 3px rgba(56,189,248,.3)}html[data-theme=light] .search-container input{background-color:#e5e7eb;border-color:#ccc;color:#000}@keyframes animated-gradient{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}#introScreen{position:fixed;inset:0;background:linear-gradient(135deg,#001a11,#002030,#001a11);background-size:300% 300%;animation:animated-gradient 15s ease infinite;display:flex;align-items:center;justify-content:center;z-index:100;color:#fff;font-family:Orbitron,sans-serif;opacity:1;transition:opacity 1.2s ease-out .5s,visibility 0s linear 1.7s;pointer-events:auto;visibility:visible;overflow:hidden}#introScreen.fade-out{opacity:0;pointer-events:none;visibility:hidden}@keyframes textPopInGlowRefined{0%{opacity:0;transform:scale(.5) translateY(50px);text-shadow:0 0 5px rgba(0,255,136,.5);filter:blur(3px)}60%{opacity:1;transform:scale(1.1) translateY(0);text-shadow:0 0 10px #0f8,0 0 20px #0f8,0 0 30px #0cf,0 0 40px #0cf;filter:blur(0)}100%{opacity:1;transform:scale(1) translateY(0);text-shadow:0 0 8px #0f8,0 0 15px #0cf;filter:blur(0)}}#introText{font-size:2.5rem;font-weight:700;letter-spacing:2px;opacity:0;animation:textPopInGlowRefined 2.2s cubic-bezier(.25,.46,.45,.94) .2s forwards}@media (min-width:640px){#introText{font-size:3.8rem}}@media (max-width:480px){#introText{font-size:1.8rem}}#loadMoreBtn{display:block;margin:2.5rem auto;padding:.8rem 2.5rem;font-weight:700;cursor:pointer;border-radius:.5rem;transition:background-color .2s,transform .2s,box-shadow .2s,opacity .2s;font-size:.9rem;background:#0cf;color:#000;border:none;text-transform:uppercase;letter-spacing:.5px}html[data-theme=light] #loadMoreBtn{background:#38bdf8;color:#fff}#loadMoreBtn:hover:not(:disabled){transform:translateY(-3px) scale(1.03);box-shadow:0 5px 10px rgba(0,204,255,.3)}html[data-theme=dark] #loadMoreBtn:hover:not(:disabled){background-color:#0df}html[data-theme=light] #loadMoreBtn:hover:not(:disabled){background-color:#0ea5e9;box-shadow:0 5px 10px rgba(56,189,248,.3)}#loadMoreBtn:disabled{background:#555;cursor:not-allowed;transform:none;opacity:.6;box-shadow:none}html[data-theme=light] #loadMoreBtn:disabled{background:#a1a1aa}#loadMoreBtn .fa-spinner{animation:spin 1s linear infinite;display:inline-block;margin-right:.5rem}.info-section{padding:3rem 1.5rem;text-align:center;border-top:1px solid #222;margin-top:2rem}html[data-theme=light] .info-section{border-top-color:#eee}.info-section h2{font-size:2rem;font-weight:700;margin-bottom:1rem;color:#0f8;font-family:Orbitron,sans-serif}html[data-theme=light] .info-section h2{color:#10b981}.info-section h3{font-size:1.4rem;font-weight:700;margin-top:2.5rem;margin-bottom:1rem;color:#0cf}html[data-theme=light] .info-section h3{color:#0ea5e9}.info-section h3 i{display:inline-block;transition:transform .3s ease}.info-section h3:hover i{transform:scale(1.15) rotate(-5deg)}html[data-theme=dark] .info-section ol{color:#bbb}html[data-theme=light] .info-section ol,html[data-theme=light] .info-section p{color:#4b5563}.info-section ol{text-align:left;padding-left:1.5rem;list-style-position:inside;list-style-type:decimal}.info-section ol li{margin-bottom:.5rem}.info-section i.fa-eye-dropper{animation:icon-bounce 1.5s infinite;display:inline-block}.info-section i.fa-lightbulb{animation:icon-pulse 2s infinite ease-in-out;display:inline-block}.info-section .info-cta i{transition:transform .2s ease;display:inline-block}.info-section .info-cta:hover i{transform:scale(1.1) translateX(3px)}.info-section code{background-color:rgba(255,255,255,.15);padding:.2em .5em;border-radius:4px;font-size:.9em;color:#0f8}html[data-theme=light] .info-section code{background-color:rgba(0,0,0,.07);color:#10b981}.video-wrapper{max-width:700px;margin:2rem auto;box-shadow:0 8px 25px rgba(0,0,0,.3);border-radius:1rem;overflow:hidden;position:relative;padding-bottom:56.25%;height:0;background:#000}html[data-theme=light] .video-wrapper{box-shadow:0 6px 20px rgba(0,0,0,.1)}.video-wrapper iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0}.info-cta{margin-top:2rem;display:inline-block;background:linear-gradient(90deg,#0f8,#0cf);color:#000;padding:.8rem 1.8rem;border-radius:50px;font-weight:700;text-decoration:none;transition:transform .2s ease,box-shadow .2s ease}.info-cta:hover{transform:scale(1.05);box-shadow:0 5px 15px rgba(0,255,136,.4)}.info-section .fa-info-circle{animation:icon-pulse 2s infinite ease-in-out;display:inline-block}.tooltip{position:relative;display:inline-block;cursor:help;border-bottom:1px dotted #0cf}html[data-theme=light] .tooltip{border-bottom-color:#0ea5e9}.tooltip .tooltiptext{visibility:hidden;width:220px;background-color:#2a2a2a;color:#fff;text-align:center;border-radius:6px;padding:10px;position:absolute;z-index:60;bottom:130%;left:50%;margin-left:-110px;opacity:0;transition:opacity .3s ease,transform .3s ease;font-size:.85rem;line-height:1.4;border:1px solid #444;box-shadow:0 3px 8px rgba(0,0,0,.4);transform:translateY(10px)}html[data-theme=light] .tooltip .tooltiptext{background-color:#f0f0f0;color:#333;border-color:#ccc;box-shadow:0 2px 5px rgba(0,0,0,.15)}.tooltip:hover .tooltiptext{visibility:visible;opacity:1;transform:translateY(0)}.site-footer{text-align:center;padding:2rem 1rem;margin-top:3rem;font-size:.9rem;border-top:1px solid #333;background-color:rgba(0,0,0,.2)}html[data-theme=light] .site-footer{border-top-color:#ddd;background-color:rgba(0,0,0,.03)}.footer-links{margin-top:.5rem;display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.footer-link{color:#0cf;text-decoration:none;cursor:pointer;transition:color .2s,transform .2s;display:inline-block}html[data-theme=light] .footer-link{color:#0ea5e9}.footer-link:hover{color:#0f8;text-decoration:underline;transform:translateY(-1px)}html[data-theme=light] .footer-link:hover{color:#10b981}.ad-placeholder{background-color:rgba(128,128,128,.1);border:1px dashed #555;min-height:90px;display:flex;align-items:center;justify-content:center;text-align:center;color:#888;font-size:.9rem;margin:1.5rem auto;max-width:728px}html[data-theme=light] .ad-placeholder{background-color:#eee;border-color:#ccc;color:#777}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes glow{from{filter:drop-shadow(0 0 5px #00ff88)}to{filter:drop-shadow(0 0 15px #00ccff)}}@keyframes fadeInUp{from{opacity:0;transform:translateY(25px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInDown{from{opacity:0;transform:translateY(-25px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes popUpFadeIn{from{opacity:0;transform:translateY(10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes icon-bounce{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-3px) scale(1.1)}}@keyframes icon-pulse{0%,100%{transform:scale(1);opacity:.8}50%{transform:scale(1.15);opacity:1}}@keyframes icon-wiggle{0%,100%{transform:rotate(0)}25%{transform:rotate(-8deg) scale(1.1)}75%{transform:rotate(8deg) scale(1.1)}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.footer-link,.tooltip,[role=button],a[onclick],button,input[type=checkbox],label[for]{cursor:pointer}.progress-container{width:100%;background:#333;border-radius:10px;overflow:hidden;height:12px;margin-top:1rem}html[data-theme=light] .progress-container{background:#e5e7eb}.progress-bar{height:100%;background:linear-gradient(270deg,#0f8,#0cf);animation:glow 1.5s infinite alternate;width:0%;transition:width .4s ease;border-radius:10px}#uploadStatus{margin-top:.8rem;font-size:.9rem;min-height:1.4em;text-align:center}.gallery-message{text-align:center;width:100%;grid-column:1/-1;font-size:1.1rem;padding:2rem;margin-top:1rem;border-radius:.5rem}.gallery-message.info{color:#9ca3af}html[data-theme=light] .gallery-message.info{color:#4b5563}.gallery-message.error{color:#f87171;background-color:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.3)}html[data-theme=light] .gallery-message.error{color:#dc2626;background-color:#fee2e2;border:1px solid #fecaca}.gallery-message.empty{color:#60a5fa}html[data-theme=light] .gallery-message.empty{color:#3b82f6}.gallery-message.end-of-list{animation:fadeInUp .5s ease-out}.card.deleting{opacity:0!important;transform:scale(.9)!important;height:0!important;margin:0!important;padding-top:0!important;padding-bottom:0!important;border-width:0!important;overflow:hidden!important}</style>
</head>
<body>
<div id=introScreen>
<span id=introText>Green Screen Vault</span>
</div>
<header class=header>
<h1>ðŸŽ¬ Green Screen Vault</h1>
<div class=header-buttons-container>
<div class="header-buttons left">
<button type=button id=themeToggleBtn class=header-btn title="Toggle Theme" aria-label="Toggle color theme">
<i class="fas fa-adjust"></i>
<span class="button-text sr-only sm:not-sr-only">Theme</span>
<div id=sunIcon class=theme-icon aria-hidden=true><i class="fas fa-sun"></i></div>
<div id=moonIcon class=theme-icon aria-hidden=true><i class="fas fa-moon"></i></div>
</button>
</div>
<div class="header-buttons right">
<button type=button id=showUploadBtn class=header-btn title="Upload Video" aria-label="Open video upload popup">
<i class="fas fa-upload"></i>
<span class="button-text sr-only sm:not-sr-only">Upload</span>
</button>
</div>
</div>
</header>
<div class=filter-search-area>
<div class=filter-options role=tablist aria-label="Video Filters">
<button type=button class=filter-btn data-filter=recent id=filter-recent role=tab aria-selected=true>Most Recent</button>
<button type=button class=filter-btn data-filter=popular id=filter-popular role=tab aria-selected=false>Popular</button>
</div>
<div class=search-container>
<label for=search class=sr-only>Search Videos:</label>
<input type=search id=search placeholder="Search clips by title or uploader..." aria-label="Search green screen clips">
</div>
</div>
<main>
<div class=gallery id=gallery aria-live=polite>
<p class="gallery-message info" id=gallery-loading-msg>ðŸ”„ Loading Videos...</p>
</div>
<button type=button id=loadMoreBtn style=display:none>Load More Videos</button>
<section class="info-section landing-page">
<h2><i class="fas fa-lightbulb mr-2"></i>Unlock Your Creativity</h2>
<p>
Welcome to the Green Screen Vault! Your ultimate destination for free <span class=tooltip>chroma key<span class=tooltiptext>Chroma key compositing, or chroma keying, is a visual effects technique for compositing two images or video streams together based on color hues (chroma range).</span></span> footage and video clips. Find dynamic effects, transitions, elements, and <strong class="text-green-400 dark:text-green-300">even popular meme templates</strong> to elevate your video projects â€“ all free to download and use! Find the perfect clip for your next video.
</p>
<div class=video-wrapper>
<iframe src=https://www.youtube.com/embed/-UFG_jU3bXA title="YouTube video player - Green Screen Tutorial (Adobe Premiere Pro Ultra Key)" frameborder=0 loading=lazy allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
</div>
<h3><i class="fas fa-question-circle mr-1"></i>Quick Guide: Using Overlays (Premiere Pro Example)</h3>
<ol>
<li><strong>Import:</strong> Add your main footage and the downloaded green screen clip (.mp4, .mov) to your project.</li>
<li><strong>Layer:</strong> Place the overlay clip on the timeline track <strong>above</strong> your main footage.</li>
<li><strong>Effect:</strong> Search for <code>Ultra Key</code> in the Effects panel and drag it onto the overlay clip.</li>
<li><strong>Key Color:</strong> In Effect Controls > Ultra Key, use the eyedropper <i class="fas fa-eye-dropper" aria-hidden=true></i> to select the green (or blue) screen color in the Program Monitor.</li>
<li><strong>Refine:</strong> Adjust Matte Generation/Cleanup/Spill Suppression settings for a clean key. Experiment with <span class=tooltip>Choke<span class=tooltiptext>Reduces the size of the matte slightly to hide faint edges.</span></span> and <span class=tooltip>Soften<span class=tooltiptext>Blurs the edges of the matte for smoother blending.</span></span> for best results.</li>
<li><strong>Composite:</strong> Position, scale, or animate the keyed overlay layer as needed to blend it into your scene!</li>
</ol>
<h3><i class="fas fa-rocket mr-1"></i> Pro Tips & Benefits for Content Creators</h3>
<p>
Using pre-made green screen clips saves significant time compared to creating complex effects from scratch. They add professional polish to YouTube videos, live streams (OBS/Streamlabs), social media content (TikTok/Instagram Reels), and indie films. This vault thrives on community contributions â€“ consider uploading your own creations! Share your awesome green screen effects, transitions, video elements, or even those hilarious <strong class="text-green-400 dark:text-green-300">meme templates</strong> everyone is looking for! Help fellow creators find the perfect video clips.
</p>
<p>
<strong>Shooting Tip:</strong> Ensure your green screen is evenly lit and wrinkle-free for the easiest keying. Avoid green clothing or highly reflective objects on your subject. Consistent lighting is key!
</p>
<div class=mt-8>
<div class="inline-block bg-teal-100 text-teal-800 p-3 rounded-lg text-sm shadow-md dark:bg-teal-900 dark:text-teal-200">
<i class="fas fa-info-circle mr-1" aria-hidden=true></i> This site uses <span class=tooltip>Cloudinary<span class=tooltiptext>A cloud-based service for managing and delivering images and videos efficiently.</span></span> for video hosting and optimized delivery. All uploaded content is licensed under <span class=tooltip>CC0 (Public Domain)<span class=tooltiptext>Creative Commons Zero - Content can be copied, modified, distributed, and performed, even for commercial purposes, all without asking permission.</span></span>.
</div>
</div>
<div class=mt-8>
<a href=# id=scrollToUpload class=info-cta><i class="fas fa-share-alt mr-2" aria-hidden=true></i>Contribute Your Overlay!</a>
</div>
</section>
</main>
<div class=modal-backdrop id=uploadPopup>
<div class="modal-box w-full max-w-md">
<button type=button class=modal-close-btn data-action=close-modal aria-label="Close Upload Popup">Ã—</button>
<h2><i class="fas fa-cloud-upload-alt mr-2" aria-hidden=true></i>Upload Overlays</h2>
<p class="text-sm text-gray-400 mb-4 text-center">Help the community grow! Share effects, transitions, or meme templates.</p>
<div>
<label for=uploaderNameInput>Your Name/Alias (Optional):</label>
<input id=uploaderNameInput placeholder="Shown publicly with your video(s)" class=mb-4 aria-describedby=uploaderHelp>
<p id=uploaderHelp class=sr-only>Enter the name you want displayed as the uploader</p>
</div>
<div>
<label for=deletePassword>Deletion Password (Required):</label>
<input type=password id=deletePassword placeholder="Save this password securely!" class=mb-4 aria-describedby=passwordHelp required>
<p id=passwordHelp class="text-xs text-gray-500 mb-4 -mt-2">6+ characters. Needed if you ever want to delete your upload(s).</p>
</div>
<button type=button id=selectUploadBtn class="modal-button-confirm w-full justify-center text-base py-3">
<i class="fas fa-file-video mr-2" aria-hidden=true></i> Select & Upload Video(s)
</button>
<div class="progress-container mt-4" id=progressContainer style=display:none aria-label="Upload progress"><div class=progress-bar id=progressBar role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100></div></div>
<p id=uploadStatus class="mt-2 text-sm h-5 text-center" aria-live=polite></p>
<button type=button class="modal-button-cancel w-full justify-center mt-2" data-action=close-modal>Cancel</button>
</div>
</div>
<div class=modal-backdrop id=promptModal>
<div class=modal-box>
<button type=button class=modal-close-btn data-action=close-prompt aria-label="Close Prompt">Ã—</button>
<h2 id=promptTitle>Prompt</h2>
<div id=promptContent class="mt-4 mb-4">
<p class=modal-error id=promptError aria-live=assertive style=display:none></p>
</div>
<div class=modal-buttons>
<button type=button class=modal-button-cancel id=promptCancelBtn data-action=close-prompt>Cancel</button>
<button type=button class=modal-button-confirm id=promptConfirmBtn>Confirm</button>
</div>
</div>
</div>
<div class=modal-backdrop id=uploadSuccessPopup>
<div class="modal-box text-center">
<button type=button class=modal-close-btn data-action=close-modal aria-label="Close Success Popup">Ã—</button>
<h2 class=text-2xl><i class="fas fa-rocket text-blue-400 mr-2" aria-hidden=true></i>Upload Complete!</h2>
<div id=uploadSuccessContent class=my-5>
<p>Thank you, <strong id=successUploaderName class=text-green-400>Uploader</strong>!</p>
<p id=successSummaryText>Your overlay(s) are now live.</p>
<p class="mt-3 text-sm text-gray-400">Sharing helps the creative community grow!</p>
</div>
<div class="modal-buttons justify-center">
<button type=button class=modal-button-confirm data-action=close-modal>Awesome!</button>
</div>
</div>
</div>
<div class=modal-backdrop id=termsModal>
<div class=modal-box>
<button type=button class=modal-close-btn data-action=close-modal aria-label="Close Terms Popup">Ã—</button>
<h2><i class="fas fa-file-contract mr-1"></i>Terms & Privacy</h2>
<div class=terms-content tabindex=0>
<h3>Terms and Conditions</h3><p><em>Last updated: 2024-05-16</em></p><p>Welcome to the Green Screen Vault! These terms and conditions outline the rules and regulations for the use of our website and services, located at [Your Website URL - Replace This]. By accessing this website, we assume you accept these terms and conditions. Do not continue to use Green Screen Vault if you do not agree to take all of the terms and conditions stated on this page.</p>
<h4>License (CC0)</h4>
<p>Unless otherwise stated, Green Screen Vault and/or its licensors own the intellectual property rights for original site design and functionality. <strong>User-uploaded content (videos) is licensed under Creative Commons Zero (CC0) - Public Domain Dedication upon successful upload.</strong> This means:</p>
<ul>
<li>You grant a worldwide, royalty-free, non-exclusive, perpetual, irrevocable license for others to download, copy, modify, distribute, perform, and use the content for any purpose, including commercial purposes, without asking permission from or providing attribution to the uploader or Green Screen Vault.</li>
<li>You warrant that you own the necessary rights to grant this license or that the content is already in the public domain and suitable for CC0 dedication. You affirm the content does not infringe on any third-party rights (copyright, trademark, privacy, etc.).</li>
</ul>
<h4>User Content and Conduct</h4>
<p>You are solely responsible for the content you upload. You agree not to upload content that:</p>
<ul>
<li>Is illegal, harmful, obscene, hateful, defamatory, threatening, infringing of intellectual property rights, invasive of privacy, or otherwise injurious or objectionable.</li>
<li>Contains software viruses, malware, political campaigning, commercial solicitation unrelated to the content itself, chain letters, mass mailings, or any form of "spam."</li>
<li>Depicts non-consensual sexual content, promotes illegal acts or extreme violence, or constitutes harassment.</li>
</ul>
<p>We reserve the right (but not the obligation) to remove or edit content that violates these terms or is otherwise deemed inappropriate, at our sole discretion, without notice.</p>
<h4>Deletion Password</h4>
<p>You must provide a deletion password upon upload. This password allows you (the uploader, from the same browser where the password was stored) to initiate the deletion process for your uploaded content. Keep this password secure and confidential. <strong>We are not responsible for lost passwords and cannot delete content without the correct password being provided through the site's interface. Passwords are stored only in your browser's local storage and are not recoverable by us.</strong></p>
<h4>Disclaimer</h4>
<p>The materials on Green Screen Vault's website are provided on an 'as is' basis. Green Screen Vault makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights. Further, Green Screen Vault does not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its website or otherwise relating to such materials or on any sites linked to this site.</p>
<h4>Limitation of Liability</h4>
<p>In no event shall Green Screen Vault or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Green Screen Vault's website, even if Green Screen Vault or a Green Screen Vault authorized representative has been notified orally or in writing of the possibility of such damage.</p>
<h4>Governing Law</h4>
<p>These terms and conditions are governed by and construed in accordance with the laws of [Your Jurisdiction, e.g., California, USA - Replace This] and you irrevocably submit to the exclusive jurisdiction of the courts in that State or location.</p>
<h4>Changes to Terms</h4>
<p>We reserve the right to revise these terms at any time. By using this website you are expected to review these terms on a regular basis.</p>
<hr class="my-6 border-gray-600 dark:border-gray-700">
<h3>Privacy Policy</h3><p><em>Effective Date: 2024-05-16</em></p>
<p>We value your privacy. This Privacy Policy explains how Green Screen Vault ("we", "us", "our") handles information when you use our website and services.</p>
<h4>Information We Collect</h4>
<ul>
<li><strong>Uploaded Content:</strong> Videos you choose to upload are processed and stored via Cloudinary and become publicly accessible under the CC0 license.</li>
<li><strong>Metadata:</strong> We may store metadata associated with uploads, such as the public ID provided by Cloudinary, the optional uploader name you provide, and any title you assign (if renaming is implemented server-side). This may be stored temporarily or in a simple database for listing purposes. **Download counts may also be stored server-side if implemented.**</li>
<li><strong>Deletion Password Reference (Local Storage):</strong> The deletion password you provide during upload is stored <strong>only</strong> in your web browser's local storage. It is never sent to or stored on our servers. It is linked to the upload's public ID within your browser.</li>
<li><strong>User Preferences (Local Storage):</strong> We use local storage to remember your theme preference (dark/light) and whether you have accepted the terms.</li>
<li><strong>Locally Stored Data (Local Storage):</strong> Renamed titles and uploader names associated with videos are also stored in your browser's local storage to persist your customizations across sessions on that specific browser.</li>
<li><strong>Analytics Data (Non-Personal):</strong> We may collect anonymous usage data (e.g., page views, features used, general geographic location based on IP address) through standard web server logs or third-party analytics services (like Google Analytics, if implemented) to understand how the site is used and to improve it. This data is aggregated and does not personally identify you.</li>
<li><strong>Download Interaction Data (If Implemented):</strong> If download tracking is implemented, non-personally identifiable interaction data (e.g., which video ID was downloaded, timestamp) might be sent to the server to increment a counter. We would not link this directly to a specific user account (as there are none).</li>
</ul>
<h4>How We Use Information</h4>
<ul>
<li>To operate and display the website, including the video gallery and associated metadata (title, uploader, download count if implemented).</li>
<li>To enable the content deletion functionality using the password stored in *your* browser's local storage.</li>
<li>To remember your site preferences.</li>
<li>To analyze usage patterns and improve the website's functionality, content, and user experience.</li>
<li>To monitor for and prevent violations of our Terms and Conditions.</li>
<li>To track aggregated content popularity (e.g., download counts) if implemented.</li>
</ul>
<h4>Data Storage & Security</h4>
<ul>
<li>Videos are hosted and delivered by Cloudinary. Please refer to Cloudinary's Privacy Policy for their data practices.</li>
<li>Metadata required for listing (and download counts if implemented) might be stored on our server infrastructure. We take reasonable measures to protect this data, but no system is 100% secure.</li>
<li><strong>Deletion passwords, user preferences, renamed titles, and associated uploader names are stored only in your browser's local storage. Clearing your browser's data will permanently remove this information, including any stored deletion passwords, making deletion impossible via the website interface.</strong></li>
</ul>
<h4>Third-Party Services</h4>
<ul>
<li><strong>Cloudinary:</strong> Used for video hosting, processing, and delivery.</li>
<li><strong>Analytics Providers (Optional):</strong> If used (e.g., Google Analytics), they collect data according to their own privacy policies.</li>
<li><strong>Advertising Partners (Optional):</strong> If ads are implemented (e.g., Google AdSense), these partners may use cookies and web beacons to collect information for ad personalization and measurement. Refer to their respective privacy policies.</li>
</ul>
<h4>Cookies and Local Storage</h4>
<p>We use local storage as described above. We may use essential cookies for site functionality. If third-party services (analytics, ads) are used, they may set their own cookies. You can manage cookies and local storage through your browser settings.</p>
<h4>Your Rights and Choices</h4>
<p>You can delete your uploaded content using the deletion password via the site interface, provided the password exists in your current browser's local storage. You can clear your browser's local storage at any time to remove stored preferences, titles, names, and passwords. You can manage cookie preferences through your browser.</p>
<h4>Children's Privacy</h4>
<p>Our service is not directed to individuals under the age of 13 (or a higher age threshold depending on jurisdiction). We do not knowingly collect personal information from children. If we become aware that a child has provided us with information without parental consent, we take steps to remove such information.</p>
<h4>Policy Changes</h4>
<p>We may update this Privacy Policy from time to time. We will notify you of significant changes by posting the new policy on this page and updating the "Effective Date." We encourage you to review this policy periodically.</p>
<h4>Contact Us</h4>
<p>If you have any questions about this Privacy Policy, please contact us via the method provided in the "Contact Us" link in the footer.</p>
</div>
<label class="terms-accept-label mt-4" id=termsAcceptWrapper style=display:none>
<input type=checkbox id=termsAcceptCheckbox class=mr-2>
<span>I have read and agree to the Terms and Conditions and Privacy Policy.</span>
</label>
<p class=modal-error id=termsError aria-live=assertive></p>
<div class=modal-buttons>
<button type=button class=modal-button-confirm id=termsAcceptBtn style=display:none>Agree & Continue</button>
<button type=button class=modal-button-cancel id=termsCloseBtn data-action=close-modal>Close</button>
</div>
</div>
</div>
<div class=modal-backdrop id=aboutModal>
<div class=modal-box>
<button type=button class=modal-close-btn data-action=close-modal aria-label="Close About Us Popup">Ã—</button>
<h2><i class="fas fa-users text-blue-400 mr-2" aria-hidden=true></i>About Us</h2>
<div class="my-5 px-2 text-left leading-relaxed">
<p class=mb-4>Hey there! We're the team behind the <strong>Green Screen Vault</strong>.</p>
<p class=mb-4>We're a passionate group of video editors and creators who noticed a need for a simple, free, and community-driven resource for high-quality green screen assets. That's why we built this Vault â€“ a place to easily find, download, and share awesome chroma key clips for all kinds of projects.</p>
<p class=mb-4>Beyond running this site, we're also <strong>professional video editors</strong>! We love bringing stories to life and crafting visually stunning content. If you need help with your next video project, whether it's a complex edit, motion graphics, or just polishing up your footage, we're here to help.</p>
<p>Get in touch for editing inquiries: <a href=mailto:coolestvideoeditor@gmail.com class="text-blue-400 hover:text-blue-300 underline transition-colors">coolestvideoeditor@gmail.com</a></p>
<p class="mt-4 text-sm text-gray-400">For general site questions or feedback, please use the Contact Us link.</p>
</div>
<div class="modal-buttons justify-center">
<button type=button class=modal-button-cancel data-action=close-modal>Close</button>
</div>
</div>
</div>
<div class=modal-backdrop id=contactModal>
<div class=modal-box>
<button type=button class=modal-close-btn data-action=close-modal aria-label="Close Contact Us Popup">Ã—</button>
<h2><i class="fas fa-envelope text-purple-400 mr-2" aria-hidden=true></i>Contact Us</h2>
<div class="my-5 px-2 text-center">
<p class=mb-4>Got questions, feedback, suggestions, or found a bug? We'd love to hear from you!</p>
<p class=mb-2>Maybe you have a brilliant idea for a new feature, or perhaps you just want to say hi (we like those too!).</p>
<p class=mt-5>Reach out directly via email:</p>
<p class="mt-2 text-lg font-semibold">
<a href=mailto:ganeshvb003@gmail.com class="text-purple-400 hover:text-purple-300 underline transition-colors inline-block hover:scale-105">
<i class="fas fa-paper-plane mr-2 inline-block transition-transform hover:rotate-12"></i>ganeshvb003@gmail.com
</a>
</p>
<p class="mt-5 text-sm text-gray-400">We'll do our best to get back to you soon!</p>
<p class="mt-1 text-sm text-gray-400">(For video editing service inquiries, please see the 'About Us' section.)</p>
</div>
<div class="modal-buttons justify-center">
<button type=button class=modal-button-cancel data-action=close-modal>Close</button>
</div>
</div>
</div>
<footer class=site-footer>
<p>Â© <span id=currentYear></span> Green Screen Vault. Community driven & CC0 Licensed Content.</p>
<div class=footer-links>
<span id=showAboutLink class=footer-link title="Learn more about this project">About Us</span>
<span class="text-gray-500 dark:text-gray-600" aria-hidden=true>|</span>
<span class=footer-link id=viewTermsLink title="View Terms and Conditions & Privacy Policy">Terms & Privacy</span>
<span class="text-gray-500 dark:text-gray-600" aria-hidden=true>|</span>
<span id=showContactLink class=footer-link title="Get in touch">Contact Us</span>
</div>
</footer>
<script>const CLOUD_NAME="dogxcu1sj",UPLOAD_PRESET="gs_overlay",VIDEO_FETCH_ENDPOINT="/videos",VIDEO_DELETE_ENDPOINT_BASE="/delete",DOWNLOAD_INCREMENT_ENDPOINT_BASE="/increment_download",VIDEOS_PER_LOAD=12;let allVideos=[],displayedVideos=[],currentVideoIndex=0,renamedTitles={},uploaderNames={},currentFilter="recent",currentSearchQuery="",currentPromptCallback=null,isFetching=!1,successfulUploads=[];const $=e=>document.querySelector(e),$$=e=>document.querySelectorAll(e),log=(...e)=>console.log("[GSV]",...e),err=(...e)=>console.error("[GSV ERROR]",...e);function safeGetElementById(e){return document.getElementById(e)}function debounce(e,t){let o;return function(...a){clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),e(...a)}),t)}}function showModal(e){log(`Showing modal: ${e}`);const t=safeGetElementById(e);if(t&&t.classList.contains("modal-backdrop")){t.style.display="flex";const e=t.querySelector('button:not([disabled]), input:not([disabled]), [tabindex="0"], a[href]'),o=t.querySelector(".modal-box");e?setTimeout((()=>e.focus()),50):o&&(o.setAttribute("tabindex","-1"),setTimeout((()=>o.focus()),50))}else err(`Cannot show modal - Element ${e} not found or not a modal backdrop.`)}function hideModal(e){log(`Hiding modal: ${e}`);const t=safeGetElementById(e);t&&t.classList.contains("modal-backdrop")&&"none"!==t.style.display&&(t.classList.add("modal-fade-out"),setTimeout((()=>{if(t){t.style.display="none",t.classList.remove("modal-fade-out");const e=t.querySelector(".modal-error");e&&(e.textContent=""),e.style.display="none";const o=t.querySelector('.modal-box[tabindex="-1"]');o&&o.removeAttribute("tabindex")}}),350))}function loadLocalData(){log("Loading data from localStorage...");try{renamedTitles=JSON.parse(localStorage.getItem("renamedTitles")||"{}"),uploaderNames=JSON.parse(localStorage.getItem("uploaderNames")||"{}"),log(`Loaded ${Object.keys(renamedTitles).length} renamed titles, ${Object.keys(uploaderNames).length} uploader names.`)}catch(e){err("Failed to parse localStorage data:",e),renamedTitles={},uploaderNames={}}}function setupStaticEventListeners(){log("Setting up static event listeners...");const e=safeGetElementById("gallery"),t=safeGetElementById("themeToggleBtn"),o=safeGetElementById("showUploadBtn"),a=safeGetElementById("scrollToUpload"),n=safeGetElementById("search"),l=safeGetElementById("loadMoreBtn"),r=safeGetElementById("viewTermsLink"),i=safeGetElementById("showAboutLink"),s=safeGetElementById("showContactLink"),d=safeGetElementById("selectUploadBtn"),c=safeGetElementById("termsAcceptBtn");t&&t.addEventListener("click",toggleTheme),o&&o.addEventListener("click",(()=>{successfulUploads=[];const e=safeGetElementById("uploaderNameInput"),t=safeGetElementById("deletePassword"),o=safeGetElementById("uploadStatus"),a=safeGetElementById("progressContainer"),n=safeGetElementById("selectUploadBtn");if(e&&(e.value=""),t&&(t.value=""),o&&(o.textContent=""),a){a.style.display="none";const e=safeGetElementById("progressBar");e&&(e.style.width="0%")}n&&(n.disabled=!1),showModal("uploadPopup")})),a&&o&&a.addEventListener("click",(e=>{e.preventDefault(),o.click(),safeGetElementById("uploadPopup")?.querySelector("input, button")?.focus()})),n&&n.addEventListener("input",debounce((()=>{const e=n.value.toLowerCase().trim();e!==currentSearchQuery&&(log(`Search updated to: "${e}"`),currentSearchQuery=e,applyFiltersAndRender(!0))}),400)),$$(".filter-options .filter-btn").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.dataset.filter;t&&t!==currentFilter?(currentFilter=t,setActiveFilterButton(e.target),applyFiltersAndRender(!0)):t||err("Filter button missing data-filter attribute:",e.target)}))})),l&&l.addEventListener("click",(()=>renderVideoBatch(!1))),r&&r.addEventListener("click",(()=>showTermsModal(!0))),i&&i.addEventListener("click",(()=>showModal("aboutModal"))),s&&s.addEventListener("click",(()=>showModal("contactModal"))),document.addEventListener("click",(e=>{const t=e.target,o=t.closest(".modal-backdrop"),a=t.closest('[data-action="close-modal"]');(t.classList.contains("modal-backdrop")||a)&&o&&hideModal(o.id);t.closest('[data-action="close-prompt"]')&&hideModal("promptModal");const n=document.querySelector('.action-popup[style*="display: block"]');if(n&&!n.contains(t)&&!t.closest(".menu-btn")){log("Clicked outside, closing action menu:",n.id),n.style.display="none";const e=$(`button[aria-controls="${n.id}"]`);e&&e.setAttribute("aria-expanded","false")}})),d&&d.addEventListener("click",openCloudinaryUpload),c&&c.addEventListener("click",acceptTerms),e&&e.addEventListener("click",handleGalleryClick),log("Static event listeners set up.")}function handleGalleryClick(e){const t=e.target,o=t.closest(".card")?.dataset.publicId,a=t.closest(".video-container");if(a&&o){const t=a.querySelector("video");return t&&togglePlay(t),void e.stopPropagation()}const n=t.closest(".menu-btn");if(n&&o)return toggleActionMenu(o,n),void e.stopPropagation();const l=t.closest(".action-popup button");if(l&&o){const t=l.closest(".action-popup");t&&(t.style.display="none");const a=$(`button[aria-controls="${t?.id}"]`);return a&&a.setAttribute("aria-expanded","false"),l.textContent.includes("Rename")?triggerRename(o):l.classList.contains("delete-action")&&triggerDelete(o),void e.stopPropagation()}if(t.closest(".download-btn")&&o){log(`Download button clicked for ${o}. Triggering count increment (if backend exists).`);{const e=`/increment_download/${encodeURIComponent(o)}`;log(`Sending download increment request to: ${e}`),navigator.sendBeacon?(navigator.sendBeacon(e),log(`Sent beacon for download increment: ${o}`)):fetch(e,{method:"POST",cache:"no-store",keepalive:!0}).then((e=>{e.ok?log(`Increment request succeeded for ${o}`):log(`Failed to increment download count for ${o} (status: ${e.status})`)})).catch((e=>err(`Error sending download increment for ${o}:`,e)))}}}function handleIntro(){log("Starting intro...");const e=safeGetElementById("introScreen");if(!e||e.classList.contains("fade-out"))return log("Intro screen skipped or already faded."),void checkTerms();setTimeout((()=>{log("Fading intro out."),e?(e.classList.add("fade-out"),e.addEventListener("transitionend",(t=>{"opacity"===t.propertyName&&e.classList.contains("fade-out")&&checkTerms()}),{once:!0})):checkTerms()}),2800)}function checkTerms(){log("Checking terms acceptance..."),"true"!==localStorage.getItem("termsAccepted")?(log("Terms not accepted, showing modal."),showTermsModal(!1)):(log("Terms accepted, initializing page."),initializePage())}function showTermsModal(e=!1){log(`Show terms modal (view only: ${e})`);const t=safeGetElementById("termsModal"),o=safeGetElementById("termsAcceptWrapper"),a=safeGetElementById("termsAcceptBtn"),n=safeGetElementById("termsCloseBtn"),l=safeGetElementById("termsError");if(!(t&&o&&a&&n&&l))return void err("One or more terms modal elements not found.");l.textContent="";const r=safeGetElementById("termsAcceptCheckbox");r&&(r.checked=!1),o.style.display=e?"none":"flex",a.style.display=e?"none":"inline-flex",n.textContent=e?"Close":"Disagree",a.disabled=!1,showModal("termsModal"),safeGetElementById("termsModal")?.querySelector(".terms-content")?.focus()}function acceptTerms(){log("Accept terms clicked.");const e=safeGetElementById("termsAcceptCheckbox"),t=safeGetElementById("termsError"),o=safeGetElementById("termsAcceptBtn");e&&t&&o&&(o.disabled=!0,e.checked?(log("Terms accepted by user."),localStorage.setItem("termsAccepted","true"),hideModal("termsModal"),initializePage()):(t.textContent="Please check the box to accept the terms and conditions.",o.disabled=!1))}function initializePage(){log("Initializing main page."),setActiveFilterButton(),updateFooterYear(),fetchAndRenderVideos(),log("Main page initialized.")}function updateFooterYear(){const e=safeGetElementById("currentYear");e&&(e.textContent=(new Date).getFullYear())}function showPromptModal({title:e,contentHTML:t="",inputLabel:o="",inputType:a="text",placeholder:n="",confirmText:l="Confirm",cancelText:r="Cancel",callback:i,initialValue:s="",isConfirmation:d=!1,confirmClass:c=""}){log(`Showing prompt modal: "${e}" (isConfirmation: ${d})`);const u=safeGetElementById("promptTitle"),p=safeGetElementById("promptContent"),m=safeGetElementById("promptConfirmBtn"),g=safeGetElementById("promptCancelBtn"),f=safeGetElementById("promptError");if(!(u&&p&&m&&g&&f))return void err("Prompt modal elements missing.");u.innerHTML=e,p.innerHTML="",f.innerText="",f.style.display="none",p.appendChild(f),m.className="modal-button-confirm",c&&m.classList.add(...c.split(" ")),m.textContent=l,g.textContent=r;let y=null;if(d){log("Setting up prompt as confirmation.");const e=document.createElement("p");e.innerHTML=t,p.insertBefore(e,f)}else{if(log("Setting up prompt with input."),t){const e=document.createElement("div");e.innerHTML=t,p.insertBefore(e,f)}const e=document.createElement("label");e.htmlFor="promptInput",e.innerText=o,e.className="block mb-2 font-semibold text-sm",y=document.createElement("input"),y.type=a,y.id="promptInput",y.placeholder=n,y.value=s;const l="w-full p-3 rounded-lg border transition-colors duration-200 focus:outline-none focus:ring-2 mb-1",r="light"===(document.documentElement.getAttribute("data-theme")||"dark")?"bg-gray-100 border-gray-300 text-gray-900 focus:border-blue-400 focus:ring-blue-200":"bg-gray-700 border-gray-600 text-white focus:border-blue-500 focus:ring-blue-400 focus:ring-opacity-50";y.className=`${l} ${r}`,y.setAttribute("aria-label",o),p.insertBefore(e,f),p.insertBefore(y,f)}currentPromptCallback=i;const h=m.cloneNode(!0);m.parentNode.replaceChild(h,m),safeGetElementById("promptConfirmBtn").addEventListener("click",handlePromptConfirm);const b=g.cloneNode(!0);b.setAttribute("data-action","close-prompt"),g.parentNode.replaceChild(b,g),showModal("promptModal"),y?(log("Focusing prompt input."),setTimeout((()=>y.focus()),100)):d&&(log("Focusing prompt confirm button."),setTimeout((()=>safeGetElementById("promptConfirmBtn")?.focus()),100))}function handlePromptConfirm(){if(log("Prompt confirm button clicked."),currentPromptCallback){const e=safeGetElementById("promptInput"),t=!e||e.value;log("Executing prompt callback with value:",e?"(input value)":t),currentPromptCallback(t)}else err("No callback registered for prompt confirmation."),hidePromptModal()}function hidePromptModal(){hideModal("promptModal"),currentPromptCallback=null}function showPromptError(e){log("Showing prompt error:",e);const t=safeGetElementById("promptError");t?(t.innerText=e,t.style.display=e?"block":"none"):err("Cannot show prompt error, element #promptError not found.")}function showUploadSuccessPopup(e,t){log(`Showing success popup for ${t} uploads by ${e}`);const o=safeGetElementById("successUploaderName"),a=safeGetElementById("successSummaryText");o&&(o.innerText=e||"Anonymous"),a&&(a.innerText=1===t?"Your overlay is now live.":`Your ${t} overlays are now live.`),showModal("uploadSuccessPopup")}function initializeTheme(){const e=localStorage.getItem("theme")||"dark";log(`Initializing theme: ${e}`),document.documentElement.setAttribute("data-theme",e),setActiveFilterButton()}function toggleTheme(){const e=document.documentElement,t=e.getAttribute("data-theme")||"dark",o="dark"===t?"light":"dark";log(`Toggling theme from ${t} to ${o}`),e.setAttribute("data-theme",o),localStorage.setItem("theme",o),setActiveFilterButton();const a=safeGetElementById("promptInput");if(a&&"flex"===safeGetElementById("promptModal")?.style.display){const e="w-full p-3 rounded-lg border transition-colors duration-200 focus:outline-none focus:ring-2 mb-1",t="light"===o?"bg-gray-100 border-gray-300 text-gray-900 focus:border-blue-400 focus:ring-blue-200":"bg-gray-700 border-gray-600 text-white focus:border-blue-500 focus:ring-blue-400 focus:ring-opacity-50";a.className=`${e} ${t}`}}function openCloudinaryUpload(){log("Initiating Cloudinary upload process (multiple enabled)...");const e=safeGetElementById("uploaderNameInput"),t=safeGetElementById("deletePassword"),o=safeGetElementById("progressBar"),a=safeGetElementById("progressContainer"),n=safeGetElementById("uploadStatus"),l=safeGetElementById("selectUploadBtn");if(!(e&&t&&o&&a&&n&&l))return err("Upload modal elements missing."),void(n&&(n.innerText="âŒ Internal error: Missing form elements."));const r=e.value.trim()||"Anonymous",i=t.value.trim();if(!i)return n.innerText="âŒ Deletion password is required.",void t.focus();if(i.length<6)return n.innerText="âŒ Password must be at least 6 characters.",void t.focus();n.innerText="Initializing widget...",o.style.width="0%",a.style.display="block",l.disabled=!0,successfulUploads=[];try{if("undefined"==typeof cloudinary||"function"!=typeof cloudinary.openUploadWidget)throw new Error("Cloudinary script not loaded or invalid.");cloudinary.openUploadWidget({cloudName:CLOUD_NAME,uploadPreset:"gs_overlay",sources:["local","url","camera","dropbox","google_drive"],resourceType:"video",multiple:!0,clientAllowedFormats:["mp4","webm","mov"],folder:"gs_overlay",theme:document.documentElement.getAttribute("data-theme")||"dark"},((e,t)=>{const o=safeGetElementById("selectUploadBtn"),a=safeGetElementById("uploadStatus"),n=safeGetElementById("progressBar"),l=safeGetElementById("progressContainer");if(e)err("Cloudinary Widget Error:",e),a&&(a.innerText=`âŒ Error: ${e.statusText||e.message||"Upload failed"}`),l&&(l.style.display="none"),o&&(o.disabled=!1),successfulUploads=[];else if(t&&t.event)switch(log("Cloudinary Event:",t.event,t.info||""),t.event){case"upload-added":a&&(a.innerText="Adding file(s)..."),n&&(n.style.width="0%"),l&&(l.style.display="block");break;case"uploadprogress":if(t.info&&"number"==typeof t.info.bytes_uploaded&&t.info.total_bytes){const e=Math.round(t.info.bytes_uploaded/t.info.total_bytes*100);n&&(n.style.width=`${e}%`,n.setAttribute("aria-valuenow",e));const o=t.info.original_filename||"current file";a&&(a.innerText=`Uploading ${o}... ${e}%`)}else a&&(a.innerText="Uploading...");break;case"success":if(log("Cloudinary Success (single file):",t.info),!t.info?.public_id||!t.info?.secure_url)return err("Cloudinary success event missing critical data:",t.info),void(a&&(a.innerText="âŒ Error: Upload data incomplete for one file."));successfulUploads.push(t.info),a&&(a.innerText=`âœ… ${successfulUploads.length} file(s) uploaded successfully. Finishing...`),n&&(n.style.width="100%",n.setAttribute("aria-valuenow",100));break;case"close":log("Cloudinary Widget Closed."),handleMultipleUploadSuccess(r,i),o&&(o.disabled=!1);break;case"abort":case"queue-too-large":case"bytes-total-exceeded":case"max-files-exceeded":const e=t.event.replace(/-/g," ");err(`Cloudinary Upload Error: ${e}`,t.info||""),a&&(a.innerText=`âŒ Upload Error: ${e}`),l&&(l.style.display="none"),o&&(o.disabled=!1),successfulUploads=[]}}))}catch(e){err("Error opening Cloudinary Widget:",e),n&&(n.innerText="âŒ Failed to open upload widget. Script might be missing or misconfigured."),a&&(a.style.display="none"),l&&(l.disabled=!1),successfulUploads=[]}}function handleMultipleUploadSuccess(e,t){log(`Processing ${successfulUploads.length} successful uploads.`);const o=safeGetElementById("uploadStatus"),a=safeGetElementById("progressContainer");if(0===successfulUploads.length)return log("No successful uploads to process."),o&&!o.innerText.includes("Error")&&(o.innerText="Widget closed or cancelled."),void(a&&(a.style.display="none"));const n=[];let l=!1;try{successfulUploads.forEach((o=>{const a=o.public_id,l=o.original_filename,r=o.secure_url;if(!a||!r)return void err("Skipping an upload due to missing data:",o);localStorage.setItem(`pass_${a}`,t),uploaderNames[a]=e,l&&localStorage.setItem(`filename_${a}`,l);const i={public_id:a,created_at:(new Date).toISOString(),secure_url:r,original_filename:l||null,download_count:0};n.push(i)})),localStorage.setItem("uploaderNames",JSON.stringify(uploaderNames)),log(`Passwords, uploader names, and filenames saved locally for ${n.length} uploads.`)}catch(e){err("Error saving passwords/uploader names/filenames to localStorage:",e),o&&(o.innerText="âœ… Uploaded, but failed to save some data locally!"),l=!0}allVideos.unshift(...n),log(`Added ${n.length} new videos to the main list.`),applyFiltersAndRender(!0),hideModal("uploadPopup"),showUploadSuccessPopup(e,n.length),successfulUploads=[]}function setActiveFilterButton(e=null){const t=document.documentElement.getAttribute("data-theme")||"dark",o={inactive:["border-transparent","opacity-80","hover:opacity-100"],active:["border-2","shadow-md","opacity-100","active-filter"]},a={dark:{inactive:["bg-gray-600","text-gray-100","hover:bg-gray-500"],active:["bg-green-500","text-black","border-green-600","shadow-lg","shadow-green-500/30"]},light:{inactive:["bg-gray-300","text-gray-700","hover:bg-gray-400"],active:["bg-indigo-600","text-white","border-indigo-700","shadow-lg","shadow-indigo-500/30"]}},n="light"===t?a.light:a.dark,l=[...o.inactive,...o.active,...a.dark.inactive,...a.dark.active,...a.light.inactive,...a.light.active,"active-filter"].filter((e=>e));if(e||(e=$(`.filter-options .filter-btn[data-filter="${currentFilter}"]`)),$$(".filter-options .filter-btn").forEach((t=>{t.classList.remove(...l),t.setAttribute("aria-selected","false"),t===e?(t.classList.add(...o.active,...n.active),t.setAttribute("aria-selected","true")):t.classList.add(...o.inactive,...n.inactive)})),e)log(`Active filter button style set for ${currentFilter} on theme ${t}`);else{log(`setActiveFilterButton called but could not find button for filter ${currentFilter}`);const e=safeGetElementById("filter-recent");e&&"recent"===currentFilter&&(e.classList.remove(...l),e.classList.add(...o.active,...n.active),e.setAttribute("aria-selected","true"),log("Applied active style to default 'recent' button."))}}async function fetchAndRenderVideos(){if(isFetching)return void log("Fetch already in progress, skipping.");isFetching=!0,log("Fetching initial video list...");const e=safeGetElementById("gallery"),t=safeGetElementById("loadMoreBtn");if(!e||!t)return err("Gallery or Load More button not found during fetch."),void(isFetching=!1);displayGalleryMessage("ðŸ”„ Fetching video list...","info"),t.style.display="none",t.disabled=!0;try{log("Fetching from endpoint: /videos");const e=await fetch("/videos",{cache:"no-store"});if(!e.ok){if(404===e.status)return log("Backend endpoint '/videos' not found (404). Using localStorage videos only for this session (limited data)."),allVideos=Object.keys(localStorage).filter((e=>e.startsWith("pass_"))).map((e=>{const t=e.substring(5),o=localStorage.getItem(`filename_${t}`);return{public_id:t,secure_url:`https://res.cloudinary.com/dogxcu1sj/video/upload/${t}.mp4`,created_at:new Date(0).toISOString(),original_filename:o||null,download_count:0}})),0===allVideos.length?(displayGalleryMessage("ðŸ“ª No videos found locally! Be the first to upload.","empty"),void(isFetching=!1)):(log(`Loaded ${allVideos.length} videos from localStorage (limited data, fallback mode).`),clearGalleryMessages(),applyFiltersAndRender(!0),void(isFetching=!1));let t=`Server Error: ${e.status} ${e.statusText}`;try{const o=await e.json();t=o.message||o.details||o.error||t,err("Server error details:",o)}catch(o){log("Could not parse error response body:",o);try{const o=await e.text();o&&(t+=` - ${o.substring(0,100)}`)}catch(e){}}throw new Error(t)}if(allVideos=await e.json(),!Array.isArray(allVideos))throw err("Invalid data format received from server (expected an array).",allVideos),new Error("Invalid data format received from server.");if(log(`Fetched ${allVideos.length} total videos from backend.`),0===allVideos.length)return displayGalleryMessage("ðŸ“ª No videos found yet! Be the first to upload.","empty"),void(isFetching=!1);clearGalleryMessages(),applyFiltersAndRender(!0)}catch(e){err("Failed to fetch videos:",e);const o=e instanceof Error?e.message:String(e),a=o.includes("404")?" (Backend endpoint seems missing. Using local fallback if possible.)":"";displayGalleryMessage(`âŒ Error loading videos: ${o}.${a} Check console or backend.`,"error"),t.style.display="none"}finally{isFetching=!1}}function displayGalleryMessage(e,t="info"){const o=safeGetElementById("gallery");if(!o)return;clearGalleryMessages();const a=document.createElement("p");a.className=`gallery-message ${t}`,a.textContent=e,o.appendChild(a)}function clearGalleryMessages(){const e=safeGetElementById("gallery");if(!e)return;e.querySelectorAll(".gallery-message").forEach((e=>e.remove()));const t=safeGetElementById("gallery-loading-msg");t&&t.remove()}function applyFiltersAndRender(e=!1){log(`Applying filters. Filter: ${currentFilter}, Search: "${currentSearchQuery}", Reset: ${e}`);const t=safeGetElementById("gallery");if(!t)return;clearGalleryMessages();let o=allVideos;if(currentSearchQuery){const e=currentSearchQuery.toLowerCase();o=allVideos.filter((t=>{if(!t||!t.public_id)return!1;const o=t.original_filename||localStorage.getItem(`filename_${t.public_id}`),a=(renamedTitles[t.public_id]||formatTitle(t.public_id,o)).toLowerCase(),n=(uploaderNames[t.public_id]||"Anonymous").toLowerCase();return a.includes(e)||n.includes(e)})),log(`Filtered by search "${e}", ${o.length} results.`)}else o=[...allVideos];log(`Sorting ${o.length} videos by ${currentFilter}`);try{if("popular"===currentFilter)o.length>0&&"number"==typeof o[0].download_count?(o.sort(((e,t)=>(t.download_count||0)-(e.download_count||0))),log("Sorted by 'popular' (using download_count from backend).")):(o.sort((()=>Math.random()-.5)),log("Sorted by 'popular' (using RANDOM - backend download_count needed for real sort)."));else o.sort(((e,t)=>{const o=e?.created_at?new Date(e.created_at).getTime():0,a=t?.created_at?new Date(t.created_at).getTime():0;return isNaN(o)&&isNaN(a)?0:isNaN(o)?1:isNaN(a)?-1:a-o})),log("Sorted by 'recent'.")}catch(e){err("Error during sorting:",e)}displayedVideos=o,e?(currentVideoIndex=0,t.innerHTML="",displayedVideos.length>0?(displayGalleryMessage("ðŸ”„ Applying Filters & Loading...","info"),setTimeout((()=>renderVideoBatch(!0)),100)):renderVideoBatch(!0)):renderVideoBatch(!1)}function renderVideoBatch(e=!1){const t=safeGetElementById("gallery"),o=safeGetElementById("loadMoreBtn");if(!t||!o)return;const a=t.querySelector(".gallery-message.info");a&&a.textContent.includes("Loading")&&a.remove();const n=document.createDocumentFragment(),l=currentVideoIndex,r=Math.min(l+12,displayedVideos.length);if(log(`Rendering batch from index ${l} to ${r-1} (Total filtered/sorted: ${displayedVideos.length})`),e&&0===displayedVideos.length){return displayGalleryMessage(currentSearchQuery?`ðŸ“ª No results found for "${currentSearchQuery}". Try a different search?`:0===allVideos.length?"ðŸ“ª No videos found yet! Be the first to upload.":"ðŸ“ª No videos match the current filter.","empty"),void(o.style.display="none")}l>=r&&!e?log("No more videos to render in this batch call."):l<r&&(o.disabled=!0,o.innerHTML='<i class="fas fa-spinner fa-spin"></i>Loading...');for(let e=l;e<r;e++){const t=displayedVideos[e];if(!t||!t.public_id||!t.secure_url){err(`Skipping invalid video data at index ${e} (missing public_id or secure_url):`,t);continue}const o=t.public_id,a=o.replace(/[^a-zA-Z0-9_-]/g,"_"),r=t.original_filename||localStorage.getItem(`filename_${o}`),i=renamedTitles[o]||formatTitle(o,r),s=uploaderNames[o]||"Anonymous",d=t.secure_url,c="number"==typeof t.download_count?t.download_count:null,u=`https://res.cloudinary.com/dogxcu1sj/video/upload/w_300,h_169,c_fill,q_auto,f_auto,so_1/${o}.jpg`,p=document.createElement("div");p.style.animationDelay=.05*(e-l)+"s",p.className="card",p.dataset.publicId=o,t.original_filename&&(p.dataset.originalFilename=t.original_filename);const m=`${i.replace(/[^a-z0-9_\-.]/gi,"_")}.mp4`;p.innerHTML=`\n                    <div class="video-container">\n                        <video muted playsinline loop preload="metadata" poster="${u}" title="Click to play/pause: ${i}" data-public-id="${o}">\n                            <source src="${d}" type="video/mp4">\n                             \x3c!-- Offer WebM as alternative for browsers that support it --\x3e\n                             <source src="${d.replace(/\.mp4$/,".webm")}" type="video/webm">\n                            Your browser does not support the video tag.\n                        </video>\n                    </div>\n                    <div class="card-content">\n                        <div class="card-title" title="${i}">${i}</div>\n                         <div class="meta-info"> \x3c!-- Flex container for uploader and download count --\x3e\n                             ${null!==c?`<span class="download-count" title="${c.toLocaleString()} downloads"><i class="fas fa-download" aria-hidden="true"></i> ${c.toLocaleString()}</span>`:"<div></div>"}\n                             <div class="uploader-name" title="Uploaded by ${s}">by ${s}</div>\n                         </div>\n                    </div>\n                    <div class="card-footer">\n                        <a href="${d}" download="${m}" class="download-btn" title="Download ${i}">\n                             <i class="fas fa-download" aria-hidden="true"></i><span class="ml-1">Download</span>\n                        </a>\n                        <button type="button" class="menu-btn" title="Video Options" aria-haspopup="true" aria-expanded="false" aria-controls="actionPopup_${a}">\n                            <i class="fas fa-ellipsis-h" aria-hidden="true"></i>\n                            <span class="sr-only">Options for ${i}</span>\n                        </button>\n                    </div>\n                    <div class="action-popup" id="actionPopup_${a}" role="menu">\n                        <button type="button" role="menuitem"><i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>Rename</button>\n                        <button type="button" role="menuitem" class="delete-action"><i class="fas fa-trash-alt fa-fw" aria-hidden="true"></i>Delete</button>\n                    </div>\n                `,n.appendChild(p)}t.appendChild(n),currentVideoIndex=r,updateLoadMoreButtonState()}function formatTitle(e,t=null){let o=t||e||"";if(!o)return"Untitled Video";try{let t=o.includes("/")?o.substring(o.lastIndexOf("/")+1):o;t=t.replace(/\.(mp4|webm|mov|avi|mkv|wmv|flv)$/i,""),t=t.replace(/[_\-\.]+/g," "),t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t=t.split(" ").map((e=>e&&e.length>0?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"")).join(" ").trim(),t=t.replace(/\s{2,}/g," ");const a=t.replace(/[^a-zA-Z0-9\s]/g,"");return a&&a.length>2?t:`Video Clip (${e.slice(-6)})`}catch(t){err("Error formatting title from:",o,t);const a=e.split("/");return a[a.length-1]||"Untitled Video"}}function togglePlay(e){if(!e)return void err("togglePlay: videoElement is null");const t=e.closest(".video-container"),o=e.dataset.publicId;if(o)try{if(e.paused){$$(".gallery video.playing").forEach((t=>{t!==e&&(t.pause(),t.classList.remove("playing"),t.closest(".video-container")?.classList.remove("playing"))}));const a=e.play();void 0!==a?a.then((()=>{log(`Playing video: ${o}`),e.classList.add("playing"),t?.classList.add("playing")})).catch((a=>{"AbortError"!==a.name?err(`Play error for ${o}:`,a):(log(`Play interrupted for ${o}`),e.classList.remove("playing"),t?.classList.remove("playing"))})):(log(`Playing video (no promise): ${o}`),e.classList.add("playing"),t?.classList.add("playing"))}else e.pause(),log(`Paused video: ${o}`),e.classList.remove("playing"),t?.classList.remove("playing")}catch(e){err("Error in togglePlay:",e)}else err("togglePlay: Cannot find publicId on video element.")}function toggleActionMenu(e,t){log(`Toggling action menu for ${e}`);const o=e.replace(/[^a-zA-Z0-9_-]/g,"_"),a=safeGetElementById(`actionPopup_${o}`),n=t||$(`button[aria-controls="actionPopup_${o}"]`);if(!a||!n)return void err(`Action popup or button not found for ${o}.`);const l="block"!==a.style.display;$$(".action-popup").forEach((e=>{if(e!==a&&"block"===e.style.display){e.style.display="none";const t=$(`button[aria-controls="${e.id}"]`);t&&t.setAttribute("aria-expanded","false"),log(`Closed other popup: ${e.id}`)}})),a.style.display=l?"block":"none",n.setAttribute("aria-expanded",l?"true":"false"),l?(log(`Action popup ${a.id} opened`),a.querySelector("button")?.focus()):(log(`Action popup ${a.id} closed`),n.focus())}function getPasswordAndExecute(e,t,o="perform action"){log(`Getting password for ${o} on ${e}`);const a=localStorage.getItem(`pass_${e}`);if(!a)return err(`No password found locally for ${e}`),void showPromptModal({title:"<i class='fas fa-exclamation-triangle text-yellow-400 mr-2'></i> Password Missing",isConfirmation:!0,contentHTML:'<p>The deletion/rename password for this video is not stored in this browser\'s local storage.</p><p>You might have uploaded it from a different browser, cleared your storage, or the password failed to save during upload.</p><p class="mt-2 text-sm text-gray-400">Unfortunately, the action cannot proceed without the correct password.</p>',confirmText:"OK",confirmClass:"modal-button-cancel",callback:()=>hidePromptModal()});showPromptModal({title:"<i class='fas fa-lock text-yellow-400 mr-2'></i> Password Required",inputLabel:`Enter password to ${o}:`,inputType:"password",placeholder:"Enter your saved password",confirmText:"Verify & Proceed",callback:n=>{if(log("Password prompt callback executed."),n)if(n===a)log(`Password verified for ${o} on ${e}. Hiding prompt and executing action.`),hidePromptModal(),setTimeout((()=>{log("Executing action callback after brief delay."),t()}),50);else{log("Incorrect password entered."),showPromptError("Incorrect password. Please try again.");const e=safeGetElementById("promptInput");e&&e.focus()}else showPromptError("Password cannot be empty.")}})}function triggerRename(e){log(`Triggering rename for ${e}`),getPasswordAndExecute(e,(()=>proceedWithRename(e)),"rename video")}function proceedWithRename(e){log(`Showing rename prompt for ${e}`);const t=$(`div.card[data-public-id="${e}"]`),o=t?.dataset.originalFilename||localStorage.getItem(`filename_${e}`),a=renamedTitles[e]||formatTitle(e,o);showPromptModal({title:"<i class='fas fa-pencil-alt mr-2'></i> Rename Video",inputLabel:"Enter new title for this overlay:",inputType:"text",initialValue:a,placeholder:"Enter a descriptive title",confirmText:"Save New Title",callback:o=>{const n=o?.trim();if(n&&n!==a){log(`Renaming ${e} locally from "${a}" to "${n}"`),renamedTitles[e]=n;try{localStorage.setItem("renamedTitles",JSON.stringify(renamedTitles)),log("Title saved locally.")}catch(e){err("Error saving renamed title to localStorage:",e),showPromptError("Failed to save title locally.")}if(t){const e=t.querySelector(".card-title"),o=t.querySelector(".download-btn"),a=t.querySelector("video");if(e&&(e.textContent=n,e.title=n),o){const e=`${n.replace(/[^a-z0-9_\-.]/gi,"_")}.mp4`;o.download=e,o.title=`Download ${n}`}a&&(a.title=`Click to play/pause: ${n}`)}hidePromptModal(),log("Rename successful (locally).")}else if(n)log("Title unchanged, closing rename prompt."),hidePromptModal();else{showPromptError("Title cannot be empty.");const e=safeGetElementById("promptInput");e&&e.focus()}}})}function triggerDelete(e){log(`Triggering delete for ${e}`),getPasswordAndExecute(e,(()=>proceedWithDelete(e)),"delete video")}async function proceedWithDelete(e){log(`>>> Inside proceedWithDelete for ${e}. Showing confirmation prompt...`);const t=$(`div.card[data-public-id="${e}"]`)?.dataset.originalFilename||localStorage.getItem(`filename_${e}`);showPromptModal({isConfirmation:!0,title:"<i class='fas fa-trash-alt text-red-500 mr-2'></i> Confirm Deletion",contentHTML:`<p>Are you absolutely sure you want to permanently delete the overlay:</p><p class="font-bold my-2 break-words">"${renamedTitles[e]||formatTitle(e,t)}"?</p><p class="text-red-400 font-semibold">This action requires server interaction (if backend is configured) and cannot be undone.</p>`,confirmText:"Yes, Delete Forever",cancelText:"Cancel",confirmClass:"modal-button-delete",callback:async t=>{if(log(`>>> Delete confirmation callback executed. Confirmed: ${t}`),t){log(`Deletion confirmed for ${e}. Initiating server deletion...`),hidePromptModal();const t=$(`div.card[data-public-id="${e}"]`);t&&(t.style.opacity="0.5");let o=!1,a=null;try{log("Backend delete endpoint not configured or invalid. Proceeding with local removal only.")}catch(t){err(`Deletion failed for ${e}:`,t),a=t}log(`Proceeding with local removal of ${e}. Server success: ${o}`),t?(t.classList.add("deleting"),t.addEventListener("transitionend",(()=>{t.remove(),log(`Card removed from DOM for ${e}`);const o=safeGetElementById("gallery");o&&0===o.children.length?(log("Gallery empty after deletion, re-rendering to show message."),applyFiltersAndRender(!0)):updateLoadMoreButtonState()}),{once:!0})):log("Card already removed or not found for DOM removal."),localStorage.removeItem(`pass_${e}`),localStorage.removeItem(`filename_${e}`),delete renamedTitles[e],delete uploaderNames[e];try{localStorage.setItem("renamedTitles",JSON.stringify(renamedTitles)),localStorage.setItem("uploaderNames",JSON.stringify(uploaderNames)),log(`Cleaned up local storage for ${e}.`)}catch(e){err("Error cleaning up localStorage after delete:",e)}allVideos=allVideos.filter((t=>t?.public_id!==e)),displayedVideos=displayedVideos.filter((t=>t?.public_id!==e)),a?setTimeout((()=>{showPromptModal({title:"<i class='fas fa-exclamation-circle text-red-500 mr-2'></i> Deletion Error",isConfirmation:!0,contentHTML:`<p>Failed to delete the video from the server:</p><p class="my-2 text-red-400">${a.message}</p><p>The video has been removed from your local view, but might still exist on the server.</p>`,confirmText:"OK",confirmClass:"modal-button-cancel",callback:()=>hidePromptModal()})}),100):log(`Local removal complete for ${e}.`)}else log("Deletion cancelled by user."),hidePromptModal()}})}function updateLoadMoreButtonState(){const e=safeGetElementById("loadMoreBtn"),t=safeGetElementById("gallery");if(!e||!t)return;const o=t.querySelector(".gallery-message.end-of-list");if(o&&o.remove(),currentVideoIndex>=displayedVideos.length){if(e.style.display="none",displayedVideos.length>0&&t.children.length>0&&!t.querySelector(".gallery-message:not(.end-of-list)")){const e=document.createElement("p");e.className="gallery-message info end-of-list",e.innerHTML="âœ¨ You've reached the end! âœ¨",setTimeout((()=>{const t=safeGetElementById("gallery");t&&!t.querySelector(".gallery-message.end-of-list")&&t.appendChild(e)}),150)}}else e.style.display="block",e.disabled=!1,e.innerHTML="Load More Videos"}document.addEventListener("DOMContentLoaded",(()=>{log("DOM Ready. Initializing...");try{initializeTheme(),loadLocalData(),setupStaticEventListeners(),handleIntro()}catch(e){err("Initialization failed:",e);safeGetElementById("gallery")&&displayGalleryMessage("âŒ Error loading page. Please refresh.","error")}}))</script>
</body>
</html>
